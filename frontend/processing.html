<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NaNja - Process Your Dataset</title>
    <link rel="stylesheet" href="processing.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" defer></script>
</head>
<body>
    <div class="container">
        <h1>NaNja Data Processing</h1>
        <p class="subtitle">Clean, analyze, and prepare your dataset with ease.</p>

        <!-- Dataset Summary Section -->
        <section class="summary">
            <h2><i class="fas fa-table"></i> Dataset Summary</h2>
            <div class="summary-content" id="summaryContent">
                <p>Loading dataset summary...</p>
            </div>
            <h3 class="collapsible-header" onclick="toggleCollapse('previewSection')">
                <i class="fas fa-chevron-down"></i> Dataset Preview
            </h3>
            <div class="preview-section" id="previewSection">
                <div class="preview-controls">
                    <div class="toggle-buttons">
                        <button class="btn toggle-btn active" id="originalBtn" onclick="togglePreview('original')">Original Dataset</button>
                        <button class="btn toggle-btn" id="cleanedBtn" onclick="togglePreview('cleaned')">Cleaned Dataset</button>
                    </div>
                    <button class="btn refresh-btn" id="refreshPreview" onclick="refreshPreview()">
                        <i class="fas fa-sync-alt"></i> Refresh Preview
                    </button>
                </div>
                <div class="preview-container">
                    <div class="preview-table" id="previewTable">
                        <p>Loading dataset preview...</p>
                    </div>
                    <div class="loading-spinner" id="previewSpinner" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i> Loading...
                    </div>
                </div>
            </div>
        </section>

        <!-- Basic Cleaning Section -->
        <section class="cleaning">
            <h2><i class="fas fa-broom"></i> Basic Cleaning</h2>
            <div class="cleaning-options">
                <div class="option">
                    <label>
                        <input type="checkbox" id="removeDuplicates">
                        Remove duplicate rows
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="checkbox" id="dropMissing">
                        Drop rows with missing values
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="checkbox" id="fillMissing">
                        Fill missing values
                    </label>
                    <select id="fillMethod" disabled>
                        <option value="mean">Mean</option>
                        <option value="median">Median</option>
                        <option value="mode">Mode</option>
                    </select>
                </div>
                <button class="btn" id="applyCleaning">Apply Cleaning</button>
            </div>
        </section>

        <!-- AI Suggestions Section -->
        <section class="ai-suggestions">
            <h2><i class="fas fa-brain"></i> Smart Processing (AI Suggestions)</h2>
            <div class="suggestions-content" id="suggestionsContent">
                <p>Waiting for AI suggestions...</p>
            </div>
            <button class="btn" id="applySuggestions">Apply Selected Suggestions</button>
        </section>

        <!-- Download Section -->
        <section class="download">
            <h2><i class="fas fa-download"></i> Download Cleaned Dataset</h2>
            <button class="btn" id="downloadBtn">Download CSV</button>
        </section>
    </div>
    <script src="processing.js" defer></script>
</body>
</html>